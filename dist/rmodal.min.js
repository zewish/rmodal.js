!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.RModal=o()}(this,function(){"use strict";var t=function(t,o){return Object.prototype.toString.call(t).toLowerCase()==="[object "+o+"]"},o=function(t,o){t.className.split(/\s+/).filter(function(t){return!!t&&t==o}).length||(t.className+=" "+o)},e=function(t,o){t.className=t.className.split(/\s+/).filter(function(t){return!!t&&t!=o}).join(" ")},s=function(t,o){var e=this;this.opened=!1,this.opts={bodyClass:"modal-open",dialogClass:"modal-dialog",dialogOpenClass:"bounceInDown",dialogCloseClass:"bounceOutUp",focus:!0,focusElements:["a[href]","area[href]","input:not([disabled]):not([type=hidden])","button:not([disabled])","select:not([disabled])","textarea:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"],escapeClose:!0,content:null,closeTimeout:500},Object.keys(o||{}).forEach(function(t){void 0!==o[t]&&(e.opts[t]=o[t])}),this.overlay=t,this.dialog=t.querySelector("."+this.opts.dialogClass),this.opts.content&&this.content(this.opts.content)};return s.prototype.open=function(o){var e=this;if(this.content(o),!t(this.opts.beforeOpen,"function"))return this._doOpen();this.opts.beforeOpen(function(){e._doOpen()})},s.prototype._doOpen=function(){o(document.body,this.opts.bodyClass),e(this.dialog,this.opts.dialogCloseClass),o(this.dialog,this.opts.dialogOpenClass),this.overlay.style.display="block",this.opts.focus&&(this.focusOutElement=document.activeElement,this.focus()),t(this.opts.afterOpen,"function")&&this.opts.afterOpen(),this.opened=!0},s.prototype.close=function(){var o=this;if(!t(this.opts.beforeClose,"function"))return this._doClose();this.opts.beforeClose(function(){o._doClose()})},s.prototype._doClose=function(){var s=this;e(this.dialog,this.opts.dialogOpenClass),o(this.dialog,this.opts.dialogCloseClass),e(document.body,this.opts.bodyClass),this.opts.focus&&this.focus(this.focusOutElement),t(this.opts.afterClose,"function")&&this.opts.afterClose(),this.opened=!1,setTimeout(function(){s.overlay.style.display="none"},this.opts.closeTimeout)},s.prototype.content=function(t){if(void 0===t)return this.dialog.innerHTML;this.dialog.innerHTML=t},s.prototype.elements=function(o,e){return e=e||window.navigator.appVersion.indexOf("MSIE 9.0")>-1,o=t(o,"array")?o.join(","):o,[].filter.call(this.dialog.querySelectorAll(o),function(t){if(e){var o=window.getComputedStyle(t);return"none"!==o.display&&"hidden"!==o.visibility}return null!==t.offsetParent})},s.prototype.focus=function(o){(o=o||this.elements(this.opts.focusElements)[0]||this.dialog.firstChild)&&t(o.focus,"function")&&o.focus()},s.prototype.keydown=function(t){function o(){t.preventDefault(),t.stopPropagation()}if(this.opts.escapeClose&&27==t.which&&this.close(),this.opened&&9==t.which&&this.dialog.contains(t.target)){var e=this.elements(this.opts.focusElements),s=e[0],i=e[e.length-1];s==i?o():t.target==s&&t.shiftKey?(o(),i.focus()):t.target!=i||t.shiftKey||(o(),s.focus())}},s.prototype.version="1.0.29",s.version="1.0.29",s});
//# sourceMappingURL=rmodal.min.js.map
