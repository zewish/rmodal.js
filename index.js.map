{"version":3,"file":"index.js","sources":["rmodal.js"],"sourcesContent":["const is = (obj, type) => Object.prototype.toString.call(obj).toLowerCase() === `[object ${type}]`;\r\n\r\nconst addClass = (el, cls) => {\r\n    const arr = el.className\r\n    .split(/\\s+/)\r\n    .filter((c) => !!c && c == cls);\r\n\r\n    if (!arr.length) {\r\n        el.className += ` ${cls}`;\r\n    }\r\n};\r\n\r\nconst removeClass = (el, cls) => {\r\n    el.className = el.className\r\n    .split(/\\s+/)\r\n    .filter((c) => !!c && c != cls)\r\n    .join(' ');\r\n};\r\n\r\nclass RModal {\r\n    constructor(el, opts) {\r\n        this.opened = false;\r\n\r\n        this.opts = {\r\n            bodyClass: 'modal-open'\r\n            , dialogClass: 'modal-dialog'\r\n            , dialogOpenClass: 'bounceInDown'\r\n            , dialogCloseClass: 'bounceOutUp'\r\n\r\n            , focus: true\r\n            , focusElements: [\r\n                'a[href]', 'area[href]', 'input:not([disabled]):not([type=hidden])'\r\n                , 'button:not([disabled])', 'select:not([disabled])'\r\n                , 'textarea:not([disabled])', 'iframe', 'object', 'embed'\r\n                , '*[tabindex]', '*[contenteditable]'\r\n            ]\r\n\r\n            , escapeClose: true\r\n            , content: null\r\n            , closeTimeout: 500\r\n        };\r\n\r\n        Object.keys(opts || {})\r\n        .forEach((key) => {\r\n            /* istanbul ignore else */\r\n            if (opts[key] !== undefined) {\r\n                this.opts[key] = opts[key];\r\n            }\r\n        });\r\n\r\n        this.overlay = el;\r\n        this.dialog = el.querySelector(`.${this.opts.dialogClass}`);\r\n\r\n        if (this.opts.content) {\r\n            this.content(this.opts.content);\r\n        }\r\n    }\r\n\r\n    open(content) {\r\n        this.content(content);\r\n\r\n        if (!is(this.opts.beforeOpen, 'function')) {\r\n            return this._doOpen();\r\n        }\r\n\r\n        this.opts.beforeOpen(() => {\r\n            this._doOpen();\r\n        });\r\n    }\r\n\r\n    _doOpen() {\r\n        addClass(document.body, this.opts.bodyClass);\r\n\r\n        removeClass(this.dialog, this.opts.dialogCloseClass);\r\n        addClass(this.dialog, this.opts.dialogOpenClass);\r\n\r\n        this.overlay.style.display = 'block';\r\n\r\n        if (this.opts.focus) {\r\n            this.focusOutElement = document.activeElement;\r\n            this.focus();\r\n        }\r\n\r\n        if (is(this.opts.afterOpen, 'function')) {\r\n            this.opts.afterOpen();\r\n        }\r\n        this.opened = true;\r\n    }\r\n\r\n    close() {\r\n        if (!is(this.opts.beforeClose, 'function')) {\r\n            return this._doClose();\r\n        }\r\n\r\n        this.opts.beforeClose(() => {\r\n            this._doClose();\r\n        });\r\n    }\r\n\r\n    _doClose() {\r\n        removeClass(this.dialog, this.opts.dialogOpenClass);\r\n        addClass(this.dialog, this.opts.dialogCloseClass);\r\n\r\n        removeClass(document.body, this.opts.bodyClass);\r\n\r\n        if (this.opts.focus) {\r\n            this.focus(this.focusOutElement);\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.overlay.style.display = 'none';\r\n\r\n            if (is(this.opts.afterClose, 'function')) {\r\n                this.opts.afterClose();\r\n            }\r\n            this.opened = false;\r\n        }, this.opts.closeTimeout);\r\n    }\r\n\r\n    content(html) {\r\n        if (html === undefined) {\r\n            return this.dialog.innerHTML;\r\n        }\r\n\r\n        this.dialog.innerHTML = html;\r\n    }\r\n\r\n    elements(selector, fallback) {\r\n        fallback = fallback || window.navigator.appVersion.indexOf('MSIE 9.0') > -1;\r\n        selector = is(selector, 'array') ? selector.join(',') : selector;\r\n\r\n        return [].filter.call(\r\n            this.dialog.querySelectorAll(selector)\r\n            , (element) => {\r\n                if (fallback) {\r\n                    const style = window.getComputedStyle(element);\r\n                    return style.display !== 'none' && style.visibility !== 'hidden';\r\n                }\r\n\r\n                return element.offsetParent !== null;\r\n            }\r\n        );\r\n    }\r\n\r\n    focus(el) {\r\n        el = el || this.elements(this.opts.focusElements)[0] || this.dialog.firstChild;\r\n\r\n        if (el && is(el.focus, 'function')) {\r\n            el.focus();\r\n        }\r\n    }\r\n\r\n    keydown(ev) {\r\n        if (this.opts.escapeClose && ev.which == 27) {\r\n            this.close();\r\n        }\r\n\r\n        const stopEvent = () => {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n        }\r\n\r\n        if (this.opened && ev.which == 9 && this.dialog.contains(ev.target)) {\r\n            const elements = this.elements(this.opts.focusElements)\r\n                , first = elements[0]\r\n                , last = elements[elements.length - 1];\r\n\r\n            if (first == last) {\r\n                stopEvent();\r\n            }\r\n            else if (ev.target == first && ev.shiftKey) {\r\n                stopEvent();\r\n                last.focus();\r\n            }\r\n            else if (ev.target == last && !ev.shiftKey) {\r\n                stopEvent();\r\n                first.focus();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nRModal.prototype.version = '@@VERSION@@';\r\nRModal.version = '@@VERSION@@';\r\n\r\nexport default RModal;\r\n"],"names":["const","this"],"mappings":";;AAAAA,IAAM,EAAE,aAAI,GAAG,EAAE,IAAI,EAAE,SAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,mBAAgB,IAAI,UAAG,CAAC;;AAEnGA,IAAM,QAAQ,aAAI,EAAE,EAAE,GAAG,EAAE;IACvBA,IAAM,GAAG,GAAG,EAAE,CAAC,SAAS;KACvB,KAAK,CAAC,KAAK,CAAC;KACZ,MAAM,WAAE,CAAC,EAAE,SAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,MAAG,CAAC,CAAC;;IAEhC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;QACb,EAAE,CAAC,SAAS,IAAI,MAAI,GAAG,CAAG;KAC7B;CACJ,CAAC;;AAEFA,IAAM,WAAW,aAAI,EAAE,EAAE,GAAG,EAAE;IAC1B,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC,SAAS;KAC1B,KAAK,CAAC,KAAK,CAAC;KACZ,MAAM,WAAE,CAAC,EAAE,SAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,MAAG,CAAC;KAC9B,IAAI,CAAC,GAAG,CAAC,CAAC;CACd,CAAC;;AAEF,IAAM,MAAM,GACR,eAAW,CAAC,EAAE,EAAE,IAAI,EAAE;;;IACtB,IAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;;IAExB,IAAQ,CAAC,IAAI,GAAG;QACZ,SAAa,EAAE,YAAY;UACrB,WAAW,EAAE,cAAc;UAC3B,eAAe,EAAE,cAAc;UAC/B,gBAAgB,EAAE,aAAa;;UAE/B,KAAK,EAAE,IAAI;UACX,aAAa,EAAE;YACjB,SAAa,EAAE,YAAY,EAAE,0CAA0C;cACjE,wBAAwB,EAAE,wBAAwB;cAClD,0BAA0B,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO;cACvD,aAAa,EAAE,oBAAoB;SACxC;;UAEC,WAAW,EAAE,IAAI;UACjB,OAAO,EAAE,IAAI;UACb,YAAY,EAAE,GAAG;KACtB,CAAC;;IAEN,MAAU,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;KACtB,OAAO,WAAE,GAAG,EAAE;;QAEf,IAAQ,IAAI,CAAC,GAAG,CAAC,KAAK,SAAS,EAAE;YAC7B,MAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;SAC9B;KACJ,CAAC,CAAC;;IAEP,IAAQ,CAAC,OAAO,GAAG,EAAE,CAAC;IACtB,IAAQ,CAAC,MAAM,GAAG,EAAE,CAAC,aAAa,SAAK,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC;;IAEhE,IAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;QACvB,IAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACnC;EACJ;;AAEL,iBAAI,sBAAK,OAAO,EAAE;;;IACd,IAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;;IAE1B,IAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE;QAC3C,OAAW,IAAI,CAAC,OAAO,EAAE,CAAC;KACzB;;IAEL,IAAQ,CAAC,IAAI,CAAC,UAAU,aAAI;QACxB,MAAQ,CAAC,OAAO,EAAE,CAAC;KAClB,CAAC,CAAC;EACN;;AAEL,iBAAI,8BAAU;IACV,QAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;IAEjD,WAAe,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACzD,QAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;IAErD,IAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;;IAEzC,IAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;QACrB,IAAQ,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC;QAClD,IAAQ,CAAC,KAAK,EAAE,CAAC;KAChB;;IAEL,IAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE;QACzC,IAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;KACzB;IACL,IAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;EACtB;;AAEL,iBAAI,0BAAQ;;;IACR,IAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE;QAC5C,OAAW,IAAI,CAAC,QAAQ,EAAE,CAAC;KAC1B;;IAEL,IAAQ,CAAC,IAAI,CAAC,WAAW,aAAI;QACzB,MAAQ,CAAC,QAAQ,EAAE,CAAC;KACnB,CAAC,CAAC;EACN;;AAEL,iBAAI,gCAAW;;;IACX,WAAe,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACxD,QAAY,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;;IAEtD,WAAe,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;IAEpD,IAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;QACrB,IAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KACpC;;IAEL,UAAc,aAAI;QACd,MAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;;QAExC,IAAQ,EAAE,CAACC,MAAI,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,EAAE;YAC1C,MAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;SAC1B;QACL,MAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;KACvB,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;EAC9B;;AAEL,iBAAI,4BAAQ,IAAI,EAAE;IACd,IAAQ,IAAI,KAAK,SAAS,EAAE;QACxB,OAAW,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;KAChC;;IAEL,IAAQ,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;EAChC;;AAEL,iBAAI,8BAAS,QAAQ,EAAE,QAAQ,EAAE;IAC7B,QAAY,GAAG,QAAQ,IAAI,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;IAChF,QAAY,GAAG,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;;IAErE,OAAW,EAAE,CAAC,MAAM,CAAC,IAAI;QACrB,IAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC;oBACnC,OAAO,EAAE;YACZ,IAAQ,QAAQ,EAAE;gBACd,IAAU,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;gBACnD,OAAW,KAAK,CAAC,OAAO,KAAK,MAAM,IAAI,KAAK,CAAC,UAAU,KAAK,QAAQ,CAAC;aACpE;;YAEL,OAAW,OAAO,CAAC,YAAY,KAAK,IAAI,CAAC;SACxC;KACJ,CAAC;EACL;;AAEL,iBAAI,wBAAM,EAAE,EAAE;IACV,EAAM,GAAG,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;;IAEnF,IAAQ,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE;QACpC,EAAM,CAAC,KAAK,EAAE,CAAC;KACd;EACJ;;AAEL,iBAAI,4BAAQ,EAAE,EAAE;IACZ,IAAQ,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC,KAAK,IAAI,EAAE,EAAE;QAC7C,IAAQ,CAAC,KAAK,EAAE,CAAC;KAChB;;IAEL,IAAU,SAAS,eAAM;QACrB,EAAM,CAAC,cAAc,EAAE,CAAC;QACxB,EAAM,CAAC,eAAe,EAAE,CAAC;MACxB;;IAEL,IAAQ,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE;QACrE,IAAU,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;cACjD,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC;cACnB,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;QAE/C,IAAQ,KAAK,IAAI,IAAI,EAAE;YACnB,SAAa,EAAE,CAAC;SACf;aACI,IAAI,EAAE,CAAC,MAAM,IAAI,KAAK,IAAI,EAAE,CAAC,QAAQ,EAAE;YAC5C,SAAa,EAAE,CAAC;YAChB,IAAQ,CAAC,KAAK,EAAE,CAAC;SAChB;aACI,IAAI,EAAE,CAAC,MAAM,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE;YAC5C,SAAa,EAAE,CAAC;YAChB,KAAS,CAAC,KAAK,EAAE,CAAC;SACjB;KACJ;CACJ,CACJ;;AAED,MAAM,CAAC,SAAS,CAAC,OAAO,GAAG,aAAa,CAAC;AACzC,MAAM,CAAC,OAAO,GAAG,aAAa,CAAC;;;;","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIkQ6L1N0b3JhZ2UvTmV3IGZvbGRlci9ybW9kYWwuanMvc3JjL3Jtb2RhbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpcyA9IChvYmosIHR5cGUpID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopLnRvTG93ZXJDYXNlKCkgPT09IGBbb2JqZWN0ICR7dHlwZX1dYDtcclxuXHJcbmNvbnN0IGFkZENsYXNzID0gKGVsLCBjbHMpID0+IHtcclxuICAgIGNvbnN0IGFyciA9IGVsLmNsYXNzTmFtZVxyXG4gICAgLnNwbGl0KC9cXHMrLylcclxuICAgIC5maWx0ZXIoKGMpID0+ICEhYyAmJiBjID09IGNscyk7XHJcblxyXG4gICAgaWYgKCFhcnIubGVuZ3RoKSB7XHJcbiAgICAgICAgZWwuY2xhc3NOYW1lICs9IGAgJHtjbHN9YDtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUNsYXNzID0gKGVsLCBjbHMpID0+IHtcclxuICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZVxyXG4gICAgLnNwbGl0KC9cXHMrLylcclxuICAgIC5maWx0ZXIoKGMpID0+ICEhYyAmJiBjICE9IGNscylcclxuICAgIC5qb2luKCcgJyk7XHJcbn07XHJcblxyXG5jbGFzcyBSTW9kYWwge1xyXG4gICAgY29uc3RydWN0b3IoZWwsIG9wdHMpIHtcclxuICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLm9wdHMgPSB7XHJcbiAgICAgICAgICAgIGJvZHlDbGFzczogJ21vZGFsLW9wZW4nXHJcbiAgICAgICAgICAgICwgZGlhbG9nQ2xhc3M6ICdtb2RhbC1kaWFsb2cnXHJcbiAgICAgICAgICAgICwgZGlhbG9nT3BlbkNsYXNzOiAnYm91bmNlSW5Eb3duJ1xyXG4gICAgICAgICAgICAsIGRpYWxvZ0Nsb3NlQ2xhc3M6ICdib3VuY2VPdXRVcCdcclxuXHJcbiAgICAgICAgICAgICwgZm9jdXM6IHRydWVcclxuICAgICAgICAgICAgLCBmb2N1c0VsZW1lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAnYVtocmVmXScsICdhcmVhW2hyZWZdJywgJ2lucHV0Om5vdChbZGlzYWJsZWRdKTpub3QoW3R5cGU9aGlkZGVuXSknXHJcbiAgICAgICAgICAgICAgICAsICdidXR0b246bm90KFtkaXNhYmxlZF0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSknXHJcbiAgICAgICAgICAgICAgICAsICd0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSknLCAnaWZyYW1lJywgJ29iamVjdCcsICdlbWJlZCdcclxuICAgICAgICAgICAgICAgICwgJypbdGFiaW5kZXhdJywgJypbY29udGVudGVkaXRhYmxlXSdcclxuICAgICAgICAgICAgXVxyXG5cclxuICAgICAgICAgICAgLCBlc2NhcGVDbG9zZTogdHJ1ZVxyXG4gICAgICAgICAgICAsIGNvbnRlbnQ6IG51bGxcclxuICAgICAgICAgICAgLCBjbG9zZVRpbWVvdXQ6IDUwMFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIE9iamVjdC5rZXlzKG9wdHMgfHwge30pXHJcbiAgICAgICAgLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgICAgICBpZiAob3B0c1trZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0c1trZXldID0gb3B0c1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMub3ZlcmxheSA9IGVsO1xyXG4gICAgICAgIHRoaXMuZGlhbG9nID0gZWwucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5vcHRzLmRpYWxvZ0NsYXNzfWApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRzLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50KHRoaXMub3B0cy5jb250ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbihjb250ZW50KSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50KGNvbnRlbnQpO1xyXG5cclxuICAgICAgICBpZiAoIWlzKHRoaXMub3B0cy5iZWZvcmVPcGVuLCAnZnVuY3Rpb24nKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZG9PcGVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9wdHMuYmVmb3JlT3BlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RvT3BlbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9kb09wZW4oKSB7XHJcbiAgICAgICAgYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgdGhpcy5vcHRzLmJvZHlDbGFzcyk7XHJcblxyXG4gICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZGlhbG9nLCB0aGlzLm9wdHMuZGlhbG9nQ2xvc2VDbGFzcyk7XHJcbiAgICAgICAgYWRkQ2xhc3ModGhpcy5kaWFsb2csIHRoaXMub3B0cy5kaWFsb2dPcGVuQ2xhc3MpO1xyXG5cclxuICAgICAgICB0aGlzLm92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdHMuZm9jdXMpIHtcclxuICAgICAgICAgICAgdGhpcy5mb2N1c091dEVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXModGhpcy5vcHRzLmFmdGVyT3BlbiwgJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRzLmFmdGVyT3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9wZW5lZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgaWYgKCFpcyh0aGlzLm9wdHMuYmVmb3JlQ2xvc2UsICdmdW5jdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb0Nsb3NlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9wdHMuYmVmb3JlQ2xvc2UoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9kb0Nsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2RvQ2xvc2UoKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5kaWFsb2csIHRoaXMub3B0cy5kaWFsb2dPcGVuQ2xhc3MpO1xyXG4gICAgICAgIGFkZENsYXNzKHRoaXMuZGlhbG9nLCB0aGlzLm9wdHMuZGlhbG9nQ2xvc2VDbGFzcyk7XHJcblxyXG4gICAgICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksIHRoaXMub3B0cy5ib2R5Q2xhc3MpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRzLmZvY3VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9jdXModGhpcy5mb2N1c091dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzKHRoaXMub3B0cy5hZnRlckNsb3NlLCAnZnVuY3Rpb24nKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzLmFmdGVyQ2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm9wZW5lZCA9IGZhbHNlO1xyXG4gICAgICAgIH0sIHRoaXMub3B0cy5jbG9zZVRpbWVvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRlbnQoaHRtbCkge1xyXG4gICAgICAgIGlmIChodG1sID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nLmlubmVySFRNTDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGlhbG9nLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbWVudHMoc2VsZWN0b3IsIGZhbGxiYWNrKSB7XHJcbiAgICAgICAgZmFsbGJhY2sgPSBmYWxsYmFjayB8fCB3aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZignTVNJRSA5LjAnKSA+IC0xO1xyXG4gICAgICAgIHNlbGVjdG9yID0gaXMoc2VsZWN0b3IsICdhcnJheScpID8gc2VsZWN0b3Iuam9pbignLCcpIDogc2VsZWN0b3I7XHJcblxyXG4gICAgICAgIHJldHVybiBbXS5maWx0ZXIuY2FsbChcclxuICAgICAgICAgICAgdGhpcy5kaWFsb2cucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcilcclxuICAgICAgICAgICAgLCAoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnICYmIHN0eWxlLnZpc2liaWxpdHkgIT09ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFBhcmVudCAhPT0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9jdXMoZWwpIHtcclxuICAgICAgICBlbCA9IGVsIHx8IHRoaXMuZWxlbWVudHModGhpcy5vcHRzLmZvY3VzRWxlbWVudHMpWzBdIHx8IHRoaXMuZGlhbG9nLmZpcnN0Q2hpbGQ7XHJcblxyXG4gICAgICAgIGlmIChlbCAmJiBpcyhlbC5mb2N1cywgJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICAgICAgZWwuZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAga2V5ZG93bihldikge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdHMuZXNjYXBlQ2xvc2UgJiYgZXYud2hpY2ggPT0gMjcpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3RvcEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wZW5lZCAmJiBldi53aGljaCA9PSA5ICYmIHRoaXMuZGlhbG9nLmNvbnRhaW5zKGV2LnRhcmdldCkpIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzKHRoaXMub3B0cy5mb2N1c0VsZW1lbnRzKVxyXG4gICAgICAgICAgICAgICAgLCBmaXJzdCA9IGVsZW1lbnRzWzBdXHJcbiAgICAgICAgICAgICAgICAsIGxhc3QgPSBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaXJzdCA9PSBsYXN0KSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wRXZlbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChldi50YXJnZXQgPT0gZmlyc3QgJiYgZXYuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHN0b3BFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgbGFzdC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2LnRhcmdldCA9PSBsYXN0ICYmICFldi5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgc3RvcEV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICBmaXJzdC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5STW9kYWwucHJvdG90eXBlLnZlcnNpb24gPSAnQEBWRVJTSU9OQEAnO1xyXG5STW9kYWwudmVyc2lvbiA9ICdAQFZFUlNJT05AQCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSTW9kYWw7XHJcbiJdLCJuYW1lcyI6WyJjb25zdCIsInRoaXMiXSwibWFwcGluZ3MiOiI7O0FBQUFBLElBQU0sRUFBRSxhQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUUsU0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLG1CQUFnQixJQUFJLFVBQUcsQ0FBQzs7QUFFbkdBLElBQU0sUUFBUSxhQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUU7SUFDdkJBLElBQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxTQUFTO0tBQ3ZCLEtBQUssQ0FBQyxLQUFLLENBQUM7S0FDWixNQUFNLFdBQUUsQ0FBQyxFQUFFLFNBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksTUFBRyxDQUFDLENBQUM7O0lBRWhDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFO1FBQ2IsRUFBRSxDQUFDLFNBQVMsSUFBSSxNQUFJLEdBQUcsQ0FBRztLQUM3QjtDQUNKLENBQUM7O0FBRUZBLElBQU0sV0FBVyxhQUFJLEVBQUUsRUFBRSxHQUFHLEVBQUU7SUFDMUIsRUFBRSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsU0FBUztLQUMxQixLQUFLLENBQUMsS0FBSyxDQUFDO0tBQ1osTUFBTSxXQUFFLENBQUMsRUFBRSxTQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLE1BQUcsQ0FBQztLQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDZCxDQUFDOztBQUVGLElBQU0sTUFBTSxHQUNSLGVBQVcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFOzs7SUFDdEIsSUFBUSxDQUFDLE1B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"}